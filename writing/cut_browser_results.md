**Cut browser results**

For example, browsing biomass was minimized when hard coral, rubble and substrate cover were high, but maximised in complex, macroalgal habitats (Fig. 2h), whereas cropper and scraper biomass responded most strongly to available substrate, increasing from 41-120 kg ha-1 (croppers) and 205-469 kg ha-1 (scrapers) as available substrate cover increased from 0 to 88% (Fig. 2b). Macroalgae had strong negative effects on croppers and weak negative effects on scrapers, whereas browser biomass increased moderately from 47-66 kg ha-1 as macroalgal cover increased from 0-51%. Despite considerable variation in hard coral cover (0-92%), neither cropper or scraper biomass changed along this gradient, while browser biomass declined from X-Y kg ha-1 (Fig. 2a). Only structural complexity had a strong, consistent effect on all three functional groups, whereby biomass increased with habitat complexity (Fig. 2d). Thus, functional feeding group biomass was predicted by reef-level benthic habitat effects which varied in strength and direction among groups (Figure 2). 

Fishing effects were more consistent across functional groups. Grazing biomass increased steadily with total fishable biomass (Fig. 2h) and was maximised on pristine reefs. Biomass was lowest in exploited systems, where fishing protection on some reefs conferred marginal biomass gains of 2.4% for croppers, 8.0% for scrapers, and 14.4% for browsers (Fig. 2g). Scrapers increased most rapidly with fishable biomass to reach the highest biomass of any feeding group (1,582 kg ha-1), while cropper and browser biomass increased moderately at a rate close to zero (from 52-120 kg ha-1 and 44-134 kg ha-1, respectively). For all functional groups, benthic and fishing covariates explained a moderate proportion of biomass variation, with marginal R2 between 0.22 - 0.42 and several benthic covariates centered on zero (e.g. rubble and hard coral for cropper and scraper biomass). Model fits were substantially improved by inclusion of random intercept terms for study dataset (conditional R2: 0.35-0.69), which indicates that additional variation in grazing biomass was attributable to unmeasured influences specific to each reef and each dataset. 

Biomass was lowest in exploited systems, where fishing protection on some reefs conferred marginal biomass gains of 2.4% for croppers, 8.0% for scrapers, and 14.4% for browsers (Fig. 2g). Scrapers increased most rapidly with fishable biomass to reach the highest biomass of any feeding group (1,582 kg ha-1), while cropper and browser biomass increased moderately at a rate close to zero (from 52-120 kg ha-1 and 44-134 kg ha-1, respectively). 

Browser mass-standardized bite rates ranged from 23.1 to over 17,000 (Fig. S3b) but were exactly matched by patterns in browser biomass (Fig. 3b). 

Benthic, fishing and biodiversity covariates explained a moderate proportion of variation in grazing rates, with marginal R2 between 0.22 - 0.42 and 7 of 10 benthic covariates centered on zero. Model fits were substantially improved by inclusion of random intercept terms for study dataset (conditional R2: 0.35-0.69), which indicates that additional variation in grazing rates was attributable to unmeasured influences specific to each reef and each dataset. 